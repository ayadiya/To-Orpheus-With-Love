<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Final Chapter üíñ</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <style>
    body, html {
      margin: 0; padding: 0; height: 100%;
      font-family: 'Georgia', serif;
      color: #5a3e36;
      overflow: hidden;
    }
    #bg-video {
      position: fixed;
      top: 0; left: 0;
      width: 100vw; height: 100vh;
      object-fit: cover;
      z-index: -1;
    }
    /* Vintage music box on upper right */
    #music-box {
      position: fixed;
      top: 10px; right: 10px;
      background: linear-gradient(145deg, #f7bfbf, #ffdcdc);
      border: 2px solid #d4a373;
      border-radius: 15px;
      box-shadow: 0 5px 15px rgba(255,179,171,0.5);
      padding: 10px 15px;
      display: flex;
      align-items: center;
      gap: 10px;
      z-index: 1000;
      font-family: 'Georgia', serif;
      user-select: none;
      width: 190px;
    }
    #music-box button {
      background: #f7bfbf;
      border: 1.5px solid #d4a373;
      border-radius: 8px;
      padding: 4px 8px;
      cursor: pointer;
      font-weight: bold;
      transition: background 0.3s;
    }
    #music-box button:hover {
      background: #ffdcdc;
    }
    #music-box span {
      font-weight: bold;
      color: #5a3e36;
      flex-grow: 1;
    }

    /* Number pad container */
    #code-pad {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: #fff9f0;
      border: 4px double #d4a373;
      border-radius: 20px;
      padding: 25px 30px;
      box-shadow: 0 0 20px rgba(212,163,115,0.7);
      text-align: center;
      user-select: none;
      width: 280px;
      z-index: 900;
      opacity: 1;
      transition: opacity 1s ease;
    }
    #code-display {
      font-size: 1.5rem;
      height: 40px;
      margin-bottom: 15px;
      padding: 5px 10px;
      border: 2px solid #d4a373;
      border-radius: 10px;
      background: #fff;
      letter-spacing: 5px;
      font-family: 'Courier New', monospace;
      user-select: text;
    }
    #pad-buttons {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
      margin-bottom: 15px;
    }
    #pad-buttons button {
      font-size: 1.3rem;
      padding: 10px 0;
      border-radius: 12px;
      border: 2px solid #d4a373;
      background: linear-gradient(145deg, #f7bfbf, #ffdcdc);
      cursor: pointer;
      font-family: 'Georgia', serif;
      font-weight: bold;
      transition: background 0.3s;
    }
    #pad-buttons button:hover {
      background: linear-gradient(145deg, #ff9e96, #ffc5bc);
    }
    #enter-btn {
      width: 100%;
      padding: 10px 0;
      border-radius: 20px;
      border: 2px solid #d4a373;
      background: linear-gradient(145deg, #f7bfbf, #ffdcdc);
      font-size: 1.3rem;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.3s;
    }
    #enter-btn:hover {
      background: linear-gradient(145deg, #ff9e96, #ffc5bc);
    }

    /* Vintage modal */
    #code-modal {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: #fff9f0;
      color: #5a3e36;
      padding: 30px 35px;
      border-radius: 20px;
      border: 4px double #d4a373;
      max-width: 400px;
      text-align: center;
      box-shadow: 0 0 20px rgba(212,163,115,0.7);
      z-index: 950;
      user-select: none;
      opacity: 1;
      transition: opacity 1s ease;
      display: none;
    }
    #code-modal p {
      font-size: 1.1rem;
      margin-bottom: 25px;
    }
    #code-modal button {
      background: linear-gradient(145deg, #f7bfbf, #ffdcdc);
      border: 2px solid #d4a373;
      border-radius: 40px;
      padding: 10px 30px;
      font-family: 'Georgia', serif;
      font-size: 1.1rem;
      font-weight: bold;
      cursor: pointer;
      box-shadow: 0 5px 15px rgba(255,179,171,0.4);
      transition: background 0.3s;
    }
    #code-modal button:hover {
      background: linear-gradient(145deg, #ff9e96, #ffc5bc);
    }

    /* Calendar container */
    #calendar-container {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: #fff9f0;
      padding: 20px 25px;
      border-radius: 20px;
      border: 4px double #d4a373;
      box-shadow: 0 0 25px rgba(212,163,115,0.8);
      user-select: none;
      text-align: center;
      max-width: 320px;
      opacity: 0;
      transition: opacity 1s ease;
      z-index: 900;
      font-family: 'Georgia', serif;
      display: none;
      max-width: 360px;  /* increased width */
  width: 100%;       /* allow it to scale */
  box-sizing: border-box; /* include padding/border in size */
    }
    #calendar-container.visible {
      display: block;
      opacity: 1;
    }
    #calendar-title {
      font-weight: bold;
      font-size: 1.4rem;
      margin-bottom: 15px;
      color: #5a3e36;
    }
    table.calendar {
       width: 100%;       /* full width */
  table-layout: fixed; ;
      border-collapse: collapse;
      font-family: 'Georgia', serif;
    }
    table.calendar th, table.calendar td {
      border: 1px solid #d4a373;
     padding: 8px 0;    /* more vertical padding */
  min-width: 32px;   /* minimum width so numbers don‚Äôt squeeze */
  word-wrap: break-word;
  overflow-wrap: break-word;
      text-align: center;
      font-weight: normal;
      font-size: 1rem;
      cursor: default;
    }
    table.calendar th {
      background: #f7bfbf;
      font-weight: bold;
    }
    table.calendar td.heart-day {
      position: relative;
      background: #ffdcdc;
      font-weight: bold;
      color: #d42e2e;
    }
    table.calendar td.heart-day::after {
      content: "‚ù§Ô∏è";
      position: absolute;
      top: 2px;
      right: 5px;
      font-size: 1.2rem;
    }

    /* Click me baby text */
    #click-me-baby {
      margin-top: 15px;
      font-style: italic;
      color: #d42e2e;
      font-weight: bold;
      cursor: pointer;
      user-select: none;
      opacity: 0;
      transition: opacity 1s ease;
    }
    #click-me-baby.visible {
      opacity: 1;
    }

    /* Vintage letter modal */
    #letter-modal {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: #fff9f0;
      color: #5a3e36;
      padding: 30px 40px;
      border-radius: 20px;
      border: 4px double #d4a373;
      max-width: 600px;
      max-height: 70vh;
      overflow-y: auto;
      box-shadow: 0 0 30px rgba(212,163,115,0.8);
      font-family: 'Georgia', serif;
      font-size: 1.15rem;
      text-align: left;
      user-select: text;
      opacity: 0;
      transition: opacity 1s ease;
      z-index: 1000;
      display: none;
    }
    #letter-modal.visible {
      display: block;
      opacity: 1;
    }
    #code-display {
  /* ...existing styles... */
  letter-spacing: 2px; /* adjust to your liking */
}

  </style>
</head>
<body>

<video id="bg-video" autoplay loop muted playsinline>
  <source src="background.mp4" type="video/mp4" />
</video>


<!-- Music box -->
<div id="music-box">
  <span>Play me</span>
  <button id="play-btn">‚ñ∂Ô∏è</button>
  <button id="pause-btn">‚è∏Ô∏è</button>
  <button id="stop-btn">‚èπÔ∏è</button>
  <audio id="audio" src="a piece of you.mp3"></audio>
</div>

<!-- Number pad code input -->
<div id="code-pad">
  <div id="code-display"></div>
  <!-- Add a Delete button in the pad buttons grid -->
<div id="pad-buttons">
  <button data-num="1">1</button>
  <button data-num="2">2</button>
  <button data-num="3">3</button>
  <button data-num="4">4</button>
  <button data-num="5">5</button>
  <button data-num="6">6</button>
  <button data-num="7">7</button>
  <button data-num="8">8</button>
  <button data-num="9">9</button>
  <button id="delete-btn">‚å´</button> <!-- Delete button -->
  <button data-num="0">0</button>
</div>

  <button id="enter-btn">Enter</button>
</div>

<!-- Code modal -->
<div id="code-modal">
  <p>Code wasn't that hard to guess right? hehe</p>
  <button id="yeah-btn">Yeah</button>
</div>

<!-- Calendars -->
<div id="calendar-container">
  <div id="calendar-title"></div>
  <table class="calendar"></table>
  <div id="click-me-baby">Click mee babyyyyy</div>
</div>

<!-- Vintage letter -->
<div id="letter-modal">
  <p>
    Here you are‚Äîat the end of the hunt, but never at the end of my love for you. This was more than just a game‚Äîit was a little map of my heart, with every clue and message carrying a piece of how deeply I care for you. I poured a bit of myself into every step, hoping you'd feel how much you mean to me, even from afar.<br><br>
    One month down, and yet it already feels like you've been part of my life for so much longer. I don‚Äôt know where life will take us from here, but I do know one thing for sure‚ÄîI want to keep choosing you at every turn, in every chapter, every day.<br><br>
    Thank you for being my best friend, my peace, my chaos, my pajeeto, my safe place, and now, my love. You're my favorite notification, my happiest thought, and the calm I didn‚Äôt know I needed. Distance might keep us apart physically, but you live in all the little corners of my heart.<br><br>
    Happy 1st month, love. I love you so much &lt;3
  </p>
</div>

<script>
  // Music box controls
  const audio = document.getElementById('audio');
  document.getElementById('play-btn').onclick = () => audio.play();
  document.getElementById('pause-btn').onclick = () => audio.pause();
  document.getElementById('stop-btn').onclick = () => { audio.pause(); audio.currentTime = 0; };

  // Number pad logic
  const codeDisplay = document.getElementById('code-display');
  const buttons = document.querySelectorAll('#pad-buttons button[data-num]'); // only number buttons
  const enterBtn = document.getElementById('enter-btn');
  const codePad = document.getElementById('code-pad');
  const codeModal = document.getElementById('code-modal');
  const yeahBtn = document.getElementById('yeah-btn');
  const calendarContainer = document.getElementById('calendar-container');
  const calendarTitle = document.getElementById('calendar-title');
  const calendarTable = calendarContainer.querySelector('table.calendar');
  const clickMeBaby = document.getElementById('click-me-baby');
  const letterModal = document.getElementById('letter-modal');

  let inputCode = "";

  buttons.forEach(btn => {
    btn.addEventListener('click', () => {
      if(inputCode.length < 6) {  // limit code length
        inputCode += btn.dataset.num;
        updateCodeDisplay();
      }
    });
  });

  function updateCodeDisplay() {
   codeDisplay.textContent = inputCode;

  }

  enterBtn.onclick = () => {
    if(inputCode === "260525") {    // Correct code here
      showCodeModal();
    } else {
      alert("Wrong code! Try again.");
      inputCode = "";
      updateCodeDisplay();
    }
  };

  function showCodeModal() {
    codeModal.style.display = "block";
    codeModal.style.opacity = 1;
  }

  yeahBtn.onclick = () => {
    // Fade out code pad and modal
    codeModal.style.opacity = 0;
    codePad.style.opacity = 0;
    setTimeout(() => {
      codeModal.style.display = "none";
      codePad.style.display = "none";
      showMayCalendar();
    }, 1000);
  };

  // Helper to create calendar html
  function createCalendar(year, month, heartDay) {
    const daysInMonth = new Date(year, month + 1, 0).getDate();
    const firstDayIndex = new Date(year, month, 1).getDay(); // Sun=0 ... Sat=6
    const weekDays = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
    let html = '<tr>' + weekDays.map(d => `<th>${d}</th>`).join('') + '</tr>';

    let day = 1;
    for(let week=0; week < 6; week++) {
      html += '<tr>';
      for(let d=0; d < 7; d++) {
        if((week === 0 && d < firstDayIndex) || day > daysInMonth) {
          html += '<td></td>';
        } else {
          const isHeartDay = (day === heartDay);
          html += `<td class="${isHeartDay ? 'heart-day' : ''}">${day}</td>`;
          day++;
        }
      }
      html += '</tr>';
      if(day > daysInMonth) break;
    }
    return html;
  }

  // Show May 2025 calendar with heart on 26th
  function showMayCalendar() {
    calendarTitle.textContent = "May 2025";
    calendarTable.innerHTML = createCalendar(2025, 4, 26);
    clickMeBaby.classList.remove('visible');
    calendarContainer.classList.add('visible');

    // After 3 seconds fade out May calendar and show June calendar
    setTimeout(() => {
      calendarContainer.style.opacity = 0;
      setTimeout(() => {
        showJuneCalendar();
      }, 1000);
    }, 3000);
  }

  // Show June 2025 calendar with heart on 26th + show "Click mee baby"
  function showJuneCalendar() {
    calendarTitle.textContent = "June 2025";
    calendarTable.innerHTML = createCalendar(2025, 5, 26);
    calendarContainer.style.opacity = 1;
    clickMeBaby.classList.add('visible');
  }

  // Clicking "Click mee baby" reveals vintage letter
  clickMeBaby.onclick = () => {
    calendarContainer.classList.remove('visible');
    letterModal.classList.add('visible');
  };

  // Delete button logic
  const deleteBtn = document.getElementById('delete-btn');
  deleteBtn.onclick = () => {
    if(inputCode.length > 0) {
      inputCode = inputCode.slice(0, -1);
      updateCodeDisplay();
    }
  };
</script>


</body>
</html>
